/*
**author:jasonYang**
**web:jasonwap.zglingjie.com**
**email:914412726@qq.com**
*/
define("jasonwap/jasonImgLazyLoad",["appframework"],function(a,b,c){var d=a("appframework");!function(a){a.fn.jasonImgLazyLoad=function(b){for(var c=a(this),b=a.extend({},{lazy_src:"lazy-src",lazy_style:"lazy-style",container:window,e:"scroll",threshold:0,vertical:!0},b),d=b.lazy_src,e=b.lazy_style,f=a(b.container),g=b.e,h=b.threshold,i=b.vertical,j=parseInt(i?f.height():f.width()),k=new Array,l=0;l<c.length;l++)a(c[l]).attr(d)&&k.push(c[l]);var m=function(){for(var b=0;b<k.length;b++){var c=k[b],f=a(k[b]),g=parseInt(i?window.pageYOffset:window.pageXOffset),l=parseInt(i?c.y:c.x);if(g+j+h>l&&f.attr(d)){var m=document.createElement("img");m.src=f.attr(d),m.style.display="none",m.target=f,a("body").append(m);var n=function(b,c){var f=c;f.attr({src:f.attr(d),style:f.attr(e)}),a(b).remove()};window.ActiveXObject?m.onreadystatechange=function(){"complete"==this.readyState&&n(this,this.target)}:m.onload=function(){1==this.complete&&n(this,this.target)},k.splice(b--,1)}}};f="scroll"===g?f:a(this),f.bind(g,function(){m()}),m()}}(d),c.exports=d});