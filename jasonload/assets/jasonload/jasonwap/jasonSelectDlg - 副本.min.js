/*
**author:jasonYang**
**web:jasonwap.zglingjie.com**
**email:914412726@qq.com**
*/
define("jasonwap/jasonSelectDlg",["appframework","./jasonPopup"],function(a,b,c){var d=a("./jasonPopup");!function(a){a.fn.jasonSelectDlg=function(b,c){if(!a.isArray(b))return console.log("first param is not array!");var d=a(this),e=d.data("value"),f=d.html();(""==e||""==f)&&(e=b[0].value,f=b[0].text,d.data("value",e),d.html(f)),d.unbind("click").bind("click",function(){e=d.data("value");var g=a.extend({},{value:"value",text:"text",liStyle:"",selectedStyle:"",selectedCallback:function(){},jasonPopupClass:"jasonPopup jasonSelectDlg",title:"请选择",closeBtn:!0,position:"bottom",isBgClick:!0},c),h=g.value,i=g.text,j='<ul class="jasonSelectDlgUl">';for(var k in b){var l=b[k];j+="<li data-"+h+'="'+l[h]+'" data-'+i+'="'+l.text+'" '+(e==l.value?'class="jasonSelectDlgSeletedLi'+(g.selectedImgUrl?"":" jasonSelectDlgSeletedLiText"):"")+' style="'+g.liStyle+(e==l.value?g.selectedStyle:"")+'">'+l.text+(e==l.value?'<i class="jasonSelectDlgSelectIcon"></i>':"")+"</li>"}j+="</ul>",g=a.extend({},{message:j},g);var m=a.jasonPopup(g);a(".jasonSelectDlgUl li").bind("click",function(){e=a(this).data("value"),f=a(this).data("text"),d.data("value",e),d.html(f),m.remove(),g.selectedCallback({value:e,text:f})})})}}(d),c.exports=d});