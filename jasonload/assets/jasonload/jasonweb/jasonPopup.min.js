/*
**author:jasonYang**
**web:jasonwap.zglingjie.com**
**email:914412726@qq.com**
*/
define("jasonweb/jasonPopup",function(a,b){function c(a,b){return $.jasonPopup({title:"提示",message:'<div style="margin:0 3%;font-size:0.875em;">'+a+"</div>",cancelText:"确定",cancelCallback:b||function(){},cancelOnly:!0})}function d(a,b,c){return $.jasonPopup({title:"提示",message:'<div style="margin:0 3%;font-size:0.875em;">'+a+"</div>",doneText:"确定",doneCallback:b||function(){},cancelCallback:c||function(){}})}a("jasonweb/css/jasonPopup.css"),function(a){var b;a.jasonPopup=a.fn.jasonPopup=function(a){return new d(a)};var c=new Array,d=function(d){var e=this;e.popupNode=b,e.windowHeight=window.innerHeight,e.isLock=0,e.opt=a.extend({},{bgStyle:"",boxStyle:"",width:500,height:300,title:"",titleStyle:"",titleLeftText:"",titleLeftStyle:"",titleLeftCallback:function(){},titleRightText:"",titleRightStyle:"",titleRightCallback:function(){},message:"",btnStyle:"",cancelText:"取消",cancelStyle:"",cancelCallback:function(){},doneText:"确认",doneStyle:"",doneCallback:function(){},cancelOnly:!1,noBtn:!0,isBgClick:!1,position:"center",duration:300,closeText:'<div class="jasonPopup_closeBtn"></div>',closeStyle:"",closeCallback:function(){},isScroll:!0,onShow:function(){}},d),e.prepend(),c.push(e)};d.fn=d.prototype={prepend:function(){var b,d,e,f=this,g=f.opt.bgStyle,h=f.opt.boxStyle,i=f.opt.width,j=(f.opt.height,f.opt.title),k=f.opt.titleStyle,l=f.opt.titleLeftText,m=f.opt.titleLeftStyle,n=f.opt.titleLeftCallback,o=f.opt.titleRightText,p=f.opt.titleRightStyle,q=f.opt.titleRightCallback,r=f.opt.message,s=f.opt.btnStyle,t=f.opt.cancelText,u=f.opt.cancelStyle,v=f.opt.cancelCallback,w=f.opt.doneText,x=f.opt.doneStyle,y=f.opt.doneCallback,z=f.opt.cancelOnly,A=f.opt.noBtn,B=f.opt.isBgClick,C=f.opt.position,D=f.opt.closeText,E=f.opt.closeStyle,F=f.opt.closeCallback,G=f.opt.onShow,H=document.createElement("div"),I="position:absolute;height:26px;line-height:26px;top:15px;color:#868686;font-weight:normal;";b=""==l?"":'<div class="jasonPopuptitleLeftBtn85js93" style="'+I+"left:10px;"+m+'">'+l+"</div>",d=""==o?"":'<div class="jasonPopuptitleRightBtn85js93" style="'+I+"right:10px;"+p+'">'+o+"</div>",e=""==D?"":'<div class="jasonPopupCloseBtn85js93" style="'+I+"right:10px;"+E+'">'+D+"</div>";var J='<div class="jasonPopupBgDiv847fd8" style="position:fixed;width:100%;height:100%;top:0;left:0; background-color:#666; opacity:0.5; z-index:'+(1e3+c.length)+";"+g+'"></div><div class="jasonPopupBox39fj7d" style="position:fixed;display:none;left:0;top:50%;width:'+i+(isNaN(i)&&i.indexOf("%")>=0?"":"px")+";border-radius:5px;z-index:"+(1001+c.length)+";color:#454545;background-color:#fff;"+h+'">'+(""==j?"":'<div class="jasonPopupTitle384jx8" style="padding:15px 10px;line-height:26px;text-align:center;font-weight:bold;font-size:1.125em;position:relative;'+k+'">'+b+j+d+e+"</div>")+'<div class="jasonPopupContent98fd3" style="width:100%;line-height:22px;text-align:center;">'+r+"</div>";A||"center"!=C||(J+='<ul class="jasonPopupBtn739jg0s" style="position:relative;z-index:9999;width:100%;color:#007aff;height:45px;line-height:45px;border-top:1px solid #bcbcbc;margin-top:15px;'+s+'">	<li style="float:left;width:50%;text-align:center;'+u+'">'+t+"</li>"+(z?"":'<li style="float:left;width:50%;box-sizing:border-box;text-align:center;border-left:1px solid #bcbcbc;'+x+'">'+w+'</li><li style="height:0;clear:both;"></li>')+"</ul>"),J+="</div>",H.innerHTML=J,f.popupNode=H,$el=a(H),a("body").append(H),A||"center"!=C||($el.find(".jasonPopupBtn739jg0s li").eq(0).bind("click",function(){v(),f.remove(0)}),z||$el.find(".jasonPopupBtn739jg0s li").eq(1).bind("click",function(){y(),f.remove(0)})),B&&$el.find(".jasonPopupBgDiv847fd8").bind("click",function(){F(),f.remove()}),$el.find(".jasonPopuptitleLeftBtn85js93").bind("click",function(){n(),f.remove()}),$el.find(".jasonPopuptitleRightBtn85js93").bind("click",function(){q(),f.remove()}),$el.find(".jasonPopupCloseBtn85js93").bind("click",function(){F(),f.remove()}),a(window).bind("touchmove",function(a){a.preventDefault()}),a(window).bind("resize",function(){f.positionPopup()}),z&&$el.find(".jasonPopupBtn739jg0s li").eq(0).css({"float":"none",width:"100%",border:"0"}),f.opt.duration="center"==C?300:600,f.positionPopup(),G()},lock:function(){this.isLock=1},unlock:function(){this.isLock=0},show:function(){a(this.popupNode).show(),a(window).unbind("mousemove").bind("mousemove",function(a){a.preventDefault()})},hide:function(b){var c=this,d=c.opt.position,e=isNaN(b)?c.opt.duration:b,f=a(c.popupNode).find(".jasonPopupBox39fj7d");f.css({"-webkit-transition-duration":e+"ms"});var g=f.css("center"==d?"top":d);f.css("center"==d?"top":d,-c.opt.height*c.windowHeight),setTimeout(function(){a(window).unbind("mousemove"),a(c.popupNode).hide(),f.css({"-webkit-transition-duration":"0ms"}),f.css("center"==d?"top":d,g)},e)},remove:function(b){var d=this;if(!d.isLock){var e=d.opt.position,f=isNaN(b)?d.opt.duration:b,g=a(d.popupNode).find(".jasonPopupBox39fj7d");g.css({"-webkit-transition-duration":f+"ms"}),g.css("center"==e?"top":e,-d.opt.height*d.windowHeight),setTimeout(function(){c.splice(0,1),a(window).unbind("mousemove"),a(d.popupNode).remove(),c.length>0&&c[0].show()},f)}},positionPopup:function(b){var c=this,d=b?b:0,e=c.opt.position,f=c.opt.height,g=a(c.popupNode).find(".jasonPopupBox39fj7d"),h=g.width();isNaN(h)&&h.indexOf("%")>0&&(h=h.substring(0,h.length-1)/100*window.innerWidth);var i=c.opt.duration;g.css({left:(window.innerWidth-h)/2,display:"block","-webkit-transition-duration":i+"ms"});var j=window.innerHeight,k=""==c.opt.title?0:g.find(".jasonPopupTitle384jx8").outerHeight(),l=c.opt.noBtn||"center"!=e?0:g.find(".jasonPopupBtn739jg0s").outerHeight(),m=1>f?(1-f)*j:j-f>10?j-f:10;(g.outerHeight()>j-m||"bottom"==e)&&g.find(".jasonPopupContent98fd3").css({height:j-k-l-m+"px",overflow:"auto"}),g.css("center"==e?"top":e,"center"==e?(j-2*d-g.outerHeight())/2:"bottom"==e?d:-d)}}}($),b.Popup=$.jasonPopup,b.alert=c,b.confirm=d});